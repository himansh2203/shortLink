{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/agntha%20Project/next-url-shortener/components/UrlForm.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\n\nconst CODE_REGEX = /^[A-Za-z0-9]{6,8}$/;\nconst URL_REGEX = /^(https?:\\/\\/)[^\\s/$.?#].[^\\s]*$/i;\n\nconst UrlForm: React.FC = () => {\n    const [url, setUrl] = useState(\"\");\n    const [code, setCode] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const [success, setSuccess] = useState<string | null>(null);\n\n    const reset = () => {\n        setUrl(\"\");\n        setCode(\"\");\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError(null);\n        setSuccess(null);\n\n        if (!URL_REGEX.test(url)) {\n            setError(\"Please enter a valid URL (must include http:// or https://).\");\n            return;\n        }\n\n        if (code && !CODE_REGEX.test(code)) {\n            setError(\"Custom code must be 6-8 characters: letters and numbers only.\");\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const res = await fetch(\"/api/links\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ url, code: code || undefined }),\n            });\n\n            if (res.status === 409) {\n                setError(\"That code already exists. Choose a different one.\");\n            } else if (!res.ok) {\n                const data = await res.json().catch(() => ({}));\n                setError(data?.error || \"Failed to create link.\");\n            } else {\n                const data = await res.json();\n                setSuccess(data.shortUrl || \"Link created.\");\n                reset();\n            }\n        } catch (err) {\n            setError(\"Network error. Try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className=\"p-4 space-y-3 max-w-xl\">\n            <div>\n                <label className=\"block text-sm font-medium\">Long URL</label>\n                <input\n                    type=\"url\"\n                    value={url}\n                    onChange={(e) => setUrl(e.target.value)}\n                    placeholder=\"https://example.com/very/long/url\"\n                    required\n                    className=\"mt-1 block w-full border px-3 py-2 rounded\"\n                    disabled={loading}\n                />\n            </div>\n\n            <div>\n                <label className=\"block text-sm font-medium\">Custom code (optional)</label>\n                <input\n                    value={code}\n                    onChange={(e) => setCode(e.target.value)}\n                    placeholder=\"e.g. docs123\"\n                    className=\"mt-1 block w-full border px-3 py-2 rounded\"\n                    disabled={loading}\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">6-8 chars, letters and numbers only.</p>\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n                <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50\"\n                >\n                    {loading ? \"Creating...\" : \"Create Short Link\"}\n                </button>\n                <button type=\"button\" onClick={reset} className=\"px-3 py-2 border rounded\">\n                    Reset\n                </button>\n            </div>\n\n            {error && <div className=\"text-red-600 text-sm\">{error}</div>}\n            {success && (\n                <div className=\"text-green-700 text-sm\">\n                    Created: <a href={success}>{success}</a>\n                </div>\n            )}\n        </form>\n    );\n};\n\nexport default UrlForm;"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGA,MAAM,aAAa;AACnB,MAAM,YAAY;AAElB,MAAM,UAAoB;IACtB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IAEtD,MAAM,QAAQ;QACV,OAAO;QACP,QAAQ;IACZ;IAEA,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI,CAAC,UAAU,IAAI,CAAC,MAAM;YACtB,SAAS;YACT;QACJ;QAEA,IAAI,QAAQ,CAAC,WAAW,IAAI,CAAC,OAAO;YAChC,SAAS;YACT;QACJ;QAEA,WAAW;QACX,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,cAAc;gBAClC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAK,MAAM,QAAQ;gBAAU;YACxD;YAEA,IAAI,IAAI,MAAM,KAAK,KAAK;gBACpB,SAAS;YACb,OAAO,IAAI,CAAC,IAAI,EAAE,EAAE;gBAChB,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC7C,SAAS,MAAM,SAAS;YAC5B,OAAO;gBACH,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,WAAW,KAAK,QAAQ,IAAI;gBAC5B;YACJ;QACJ,EAAE,OAAO,KAAK;YACV,SAAS;QACb,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACpC,8OAAC;;kCACG,8OAAC;wBAAM,WAAU;kCAA4B;;;;;;kCAC7C,8OAAC;wBACG,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;wBACtC,aAAY;wBACZ,QAAQ;wBACR,WAAU;wBACV,UAAU;;;;;;;;;;;;0BAIlB,8OAAC;;kCACG,8OAAC;wBAAM,WAAU;kCAA4B;;;;;;kCAC7C,8OAAC;wBACG,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,aAAY;wBACZ,WAAU;wBACV,UAAU;;;;;;kCAEd,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAG9C,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,UAAU,gBAAgB;;;;;;kCAE/B,8OAAC;wBAAO,MAAK;wBAAS,SAAS;wBAAO,WAAU;kCAA2B;;;;;;;;;;;;YAK9E,uBAAS,8OAAC;gBAAI,WAAU;0BAAwB;;;;;;YAChD,yBACG,8OAAC;gBAAI,WAAU;;oBAAyB;kCAC3B,8OAAC;wBAAE,MAAM;kCAAU;;;;;;;;;;;;;;;;;;AAKhD;uCAEe"}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///D:/agntha%20Project/next-url-shortener/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}