{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/agntha%20Project/next-url-shortener/components/UrlList.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\n\ntype LinkItem = {\n    code: string;\n    url: string;\n    clicks: number;\n    lastClicked?: string | null;\n};\n\ntype Props = {\n    links?: LinkItem[] | null;\n    onDelete?: (code: string) => Promise<void> | void;\n};\n\nconst truncate = (s: string, n = 60) =>\n    s.length > n ? s.slice(0, n - 1) + \"…\" : s;\n\nconst UrlList: React.FC<Props> = ({ links, onDelete }) => {\n    const items = links ?? [];\n\n    const handleCopy = async (code: string) => {\n        try {\n            const short = `${window.location.origin}/${code}`;\n            await navigator.clipboard.writeText(short);\n            // silent success — could add toast\n        } catch {\n            // ignore clipboard errors\n        }\n    };\n\n    const handleDelete = async (code: string) => {\n        if (!confirm(`Delete short code \"${code}\"? This cannot be undone.`)) return;\n        try {\n            const res = await fetch(`/api/links/${code}`, { method: \"DELETE\" });\n            if (res.ok) {\n                if (onDelete) await onDelete(code);\n            } else {\n                const err = await res.json().catch(() => ({}));\n                alert(err?.error || \"Delete failed\");\n            }\n        } catch {\n            alert(\"Network error\");\n        }\n    };\n\n    if (!items.length) {\n        return (\n            <div className=\"p-4 text-sm text-gray-600\">\n                No links yet. Use the form to create your first short link.\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y\">\n                <thead>\n                    <tr>\n                        <th className=\"text-left px-3 py-2\">Code</th>\n                        <th className=\"text-left px-3 py-2\">Target URL</th>\n                        <th className=\"text-left px-3 py-2\">Clicks</th>\n                        <th className=\"text-left px-3 py-2\">Last clicked</th>\n                        <th className=\"px-3 py-2\">Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {items.map((l) => (\n                        <tr key={l.code} className=\"border-t\">\n                            <td className=\"px-3 py-2 font-mono text-sm\">\n                                <a href={`/${l.code}`} className=\"text-blue-600 hover:underline\">\n                                    {l.code}\n                                </a>\n                            </td>\n                            <td className=\"px-3 py-2 max-w-xl\">\n                                <a\n                                    href={l.url}\n                                    target=\"_blank\"\n                                    rel=\"noreferrer\"\n                                    className=\"block text-sm text-gray-700 hover:underline\"\n                                    title={l.url}\n                                >\n                                    {truncate(l.url, 80)}\n                                </a>\n                            </td>\n                            <td className=\"px-3 py-2\">{l.clicks}</td>\n                            <td className=\"px-3 py-2 text-sm text-gray-500\">\n                                {l.lastClicked ? new Date(l.lastClicked).toLocaleString() : \"—\"}\n                            </td>\n                            <td className=\"px-3 py-2 space-x-2\">\n                                <button\n                                    onClick={() => handleCopy(l.code)}\n                                    className=\"px-2 py-1 border rounded text-sm\"\n                                >\n                                    Copy\n                                </button>\n                                <button\n                                    onClick={() => handleDelete(l.code)}\n                                    className=\"px-2 py-1 bg-red-600 text-white rounded text-sm\"\n                                >\n                                    Delete\n                                </button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default UrlList;"],"names":[],"mappings":";;;;;AAAA;;AAeA,MAAM,WAAW,CAAC,GAAW,IAAI,EAAE,GAC/B,EAAE,MAAM,GAAG,IAAI,EAAE,KAAK,CAAC,GAAG,IAAI,KAAK,MAAM;AAE7C,MAAM,UAA2B,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IACjD,MAAM,QAAQ,SAAS,EAAE;IAEzB,MAAM,aAAa,OAAO;QACtB,IAAI;YACA,MAAM,QAAQ,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM;YACjD,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;QACpC,mCAAmC;QACvC,EAAE,OAAM;QACJ,0BAA0B;QAC9B;IACJ;IAEA,MAAM,eAAe,OAAO;QACxB,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,KAAK,yBAAyB,CAAC,GAAG;QACrE,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,MAAM,EAAE;gBAAE,QAAQ;YAAS;YACjE,IAAI,IAAI,EAAE,EAAE;gBACR,IAAI,UAAU,MAAM,SAAS;YACjC,OAAO;gBACH,MAAM,MAAM,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC5C,MAAM,KAAK,SAAS;YACxB;QACJ,EAAE,OAAM;YACJ,MAAM;QACV;IACJ;IAEA,IAAI,CAAC,MAAM,MAAM,EAAE;QACf,qBACI,8OAAC;YAAI,WAAU;sBAA4B;;;;;;IAInD;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAM,WAAU;;8BACb,8OAAC;8BACG,cAAA,8OAAC;;0CACG,8OAAC;gCAAG,WAAU;0CAAsB;;;;;;0CACpC,8OAAC;gCAAG,WAAU;0CAAsB;;;;;;0CACpC,8OAAC;gCAAG,WAAU;0CAAsB;;;;;;0CACpC,8OAAC;gCAAG,WAAU;0CAAsB;;;;;;0CACpC,8OAAC;gCAAG,WAAU;0CAAY;;;;;;;;;;;;;;;;;8BAGlC,8OAAC;8BACI,MAAM,GAAG,CAAC,CAAC,kBACR,8OAAC;4BAAgB,WAAU;;8CACvB,8OAAC;oCAAG,WAAU;8CACV,cAAA,8OAAC;wCAAE,MAAM,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE;wCAAE,WAAU;kDAC5B,EAAE,IAAI;;;;;;;;;;;8CAGf,8OAAC;oCAAG,WAAU;8CACV,cAAA,8OAAC;wCACG,MAAM,EAAE,GAAG;wCACX,QAAO;wCACP,KAAI;wCACJ,WAAU;wCACV,OAAO,EAAE,GAAG;kDAEX,SAAS,EAAE,GAAG,EAAE;;;;;;;;;;;8CAGzB,8OAAC;oCAAG,WAAU;8CAAa,EAAE,MAAM;;;;;;8CACnC,8OAAC;oCAAG,WAAU;8CACT,EAAE,WAAW,GAAG,IAAI,KAAK,EAAE,WAAW,EAAE,cAAc,KAAK;;;;;;8CAEhE,8OAAC;oCAAG,WAAU;;sDACV,8OAAC;4CACG,SAAS,IAAM,WAAW,EAAE,IAAI;4CAChC,WAAU;sDACb;;;;;;sDAGD,8OAAC;4CACG,SAAS,IAAM,aAAa,EAAE,IAAI;4CAClC,WAAU;sDACb;;;;;;;;;;;;;2BA/BA,EAAE,IAAI;;;;;;;;;;;;;;;;;;;;;AAyCvC;uCAEe"}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///D:/agntha%20Project/next-url-shortener/components/UrlForm.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\n\nconst CODE_REGEX = /^[A-Za-z0-9]{6,8}$/;\nconst URL_REGEX = /^(https?:\\/\\/)[^\\s/$.?#].[^\\s]*$/i;\n\nconst UrlForm: React.FC = () => {\n    const [url, setUrl] = useState(\"\");\n    const [code, setCode] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const [success, setSuccess] = useState<string | null>(null);\n\n    const reset = () => {\n        setUrl(\"\");\n        setCode(\"\");\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError(null);\n        setSuccess(null);\n\n        if (!URL_REGEX.test(url)) {\n            setError(\"Please enter a valid URL (must include http:// or https://).\");\n            return;\n        }\n\n        if (code && !CODE_REGEX.test(code)) {\n            setError(\"Custom code must be 6-8 characters: letters and numbers only.\");\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const res = await fetch(\"/api/links\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ url, code: code || undefined }),\n            });\n\n            if (res.status === 409) {\n                setError(\"That code already exists. Choose a different one.\");\n            } else if (!res.ok) {\n                const data = await res.json().catch(() => ({}));\n                setError(data?.error || \"Failed to create link.\");\n            } else {\n                const data = await res.json();\n                setSuccess(data.shortUrl || \"Link created.\");\n                reset();\n            }\n        } catch (err) {\n            setError(\"Network error. Try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className=\"p-4 space-y-3 max-w-xl\">\n            <div>\n                <label className=\"block text-sm font-medium\">Long URL</label>\n                <input\n                    type=\"url\"\n                    value={url}\n                    onChange={(e) => setUrl(e.target.value)}\n                    placeholder=\"https://example.com/very/long/url\"\n                    required\n                    className=\"mt-1 block w-full border px-3 py-2 rounded\"\n                    disabled={loading}\n                />\n            </div>\n\n            <div>\n                <label className=\"block text-sm font-medium\">Custom code (optional)</label>\n                <input\n                    value={code}\n                    onChange={(e) => setCode(e.target.value)}\n                    placeholder=\"e.g. docs123\"\n                    className=\"mt-1 block w-full border px-3 py-2 rounded\"\n                    disabled={loading}\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">6-8 chars, letters and numbers only.</p>\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n                <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50\"\n                >\n                    {loading ? \"Creating...\" : \"Create Short Link\"}\n                </button>\n                <button type=\"button\" onClick={reset} className=\"px-3 py-2 border rounded\">\n                    Reset\n                </button>\n            </div>\n\n            {error && <div className=\"text-red-600 text-sm\">{error}</div>}\n            {success && (\n                <div className=\"text-green-700 text-sm\">\n                    Created: <a href={success}>{success}</a>\n                </div>\n            )}\n        </form>\n    );\n};\n\nexport default UrlForm;"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGA,MAAM,aAAa;AACnB,MAAM,YAAY;AAElB,MAAM,UAAoB;IACtB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IAEtD,MAAM,QAAQ;QACV,OAAO;QACP,QAAQ;IACZ;IAEA,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI,CAAC,UAAU,IAAI,CAAC,MAAM;YACtB,SAAS;YACT;QACJ;QAEA,IAAI,QAAQ,CAAC,WAAW,IAAI,CAAC,OAAO;YAChC,SAAS;YACT;QACJ;QAEA,WAAW;QACX,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,cAAc;gBAClC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAK,MAAM,QAAQ;gBAAU;YACxD;YAEA,IAAI,IAAI,MAAM,KAAK,KAAK;gBACpB,SAAS;YACb,OAAO,IAAI,CAAC,IAAI,EAAE,EAAE;gBAChB,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC7C,SAAS,MAAM,SAAS;YAC5B,OAAO;gBACH,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,WAAW,KAAK,QAAQ,IAAI;gBAC5B;YACJ;QACJ,EAAE,OAAO,KAAK;YACV,SAAS;QACb,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACpC,8OAAC;;kCACG,8OAAC;wBAAM,WAAU;kCAA4B;;;;;;kCAC7C,8OAAC;wBACG,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;wBACtC,aAAY;wBACZ,QAAQ;wBACR,WAAU;wBACV,UAAU;;;;;;;;;;;;0BAIlB,8OAAC;;kCACG,8OAAC;wBAAM,WAAU;kCAA4B;;;;;;kCAC7C,8OAAC;wBACG,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,aAAY;wBACZ,WAAU;wBACV,UAAU;;;;;;kCAEd,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAG9C,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,UAAU,gBAAgB;;;;;;kCAE/B,8OAAC;wBAAO,MAAK;wBAAS,SAAS;wBAAO,WAAU;kCAA2B;;;;;;;;;;;;YAK9E,uBAAS,8OAAC;gBAAI,WAAU;0BAAwB;;;;;;YAChD,yBACG,8OAAC;gBAAI,WAAU;;oBAAyB;kCAC3B,8OAAC;wBAAE,MAAM;kCAAU;;;;;;;;;;;;;;;;;;AAKhD;uCAEe"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///D:/agntha%20Project/next-url-shortener/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}